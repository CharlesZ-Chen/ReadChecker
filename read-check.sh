#!/bin/bash

WORKING_DIR=$(pwd)
ROOT=$(cd $(dirname "$0")/.. && pwd)
JAVAC=$ROOT/checker-framework/checker/bin-devel/javac

READ_CHECKER=$ROOT/ReadChecker

cd $WORKING_DIR

java_files=$1
shift
while [ $# -gt 0 ]
do
    java_files="$java_files $1"
    shift
done

target_classpath="/Users/charleszhuochen/Programming/UWaterloo/jsr308/opprop-benchmarks/commons-jcs/commons-jcs-core/target/classes:/Users/charleszhuochen/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/Users/charleszhuochen/.m2/repository/commons-dbcp/commons-dbcp/1.4/commons-dbcp-1.4.jar:/Users/charleszhuochen/.m2/repository/commons-pool/commons-pool/1.6/commons-pool-1.6.jar:/Users/charleszhuochen/.m2/repository/org/apache/velocity/velocity-tools/2.0/velocity-tools-2.0.jar:/Users/charleszhuochen/.m2/repository/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar:/Users/charleszhuochen/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar:/Users/charleszhuochen/.m2/repository/commons-chain/commons-chain/1.1/commons-chain-1.1.jar:/Users/charleszhuochen/.m2/repository/commons-collections/commons-collections/3.2/commons-collections-3.2.jar:/Users/charleszhuochen/.m2/repository/commons-validator/commons-validator/1.3.1/commons-validator-1.3.1.jar:/Users/charleszhuochen/.m2/repository/dom4j/dom4j/1.1/dom4j-1.1.jar:/Users/charleszhuochen/.m2/repository/oro/oro/2.0.8/oro-2.0.8.jar:/Users/charleszhuochen/.m2/repository/sslext/sslext/1.2-0/sslext-1.2-0.jar:/Users/charleszhuochen/.m2/repository/org/apache/struts/struts-core/1.3.8/struts-core-1.3.8.jar:/Users/charleszhuochen/.m2/repository/antlr/antlr/2.7.2/antlr-2.7.2.jar:/Users/charleszhuochen/.m2/repository/org/apache/struts/struts-taglib/1.3.8/struts-taglib-1.3.8.jar:/Users/charleszhuochen/.m2/repository/org/apache/struts/struts-tiles/1.3.8/struts-tiles-1.3.8.jar:/Users/charleszhuochen/.m2/repository/org/apache/velocity/velocity/1.6.2/velocity-1.6.2.jar:/Users/charleszhuochen/.m2/repository/commons-lang/commons-lang/2.4/commons-lang-2.4.jar:/Users/charleszhuochen/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/Users/charleszhuochen/.m2/repository/commons-codec/commons-codec/1.2/commons-codec-1.2.jar:/Users/charleszhuochen/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/Users/charleszhuochen/Programming/UWaterloo/jsr308/opprop-benchmarks/commons-jcs/commons-jcs-core/target/test-classes:/Users/charleszhuochen/Programming/UWaterloo/jsr308/opprop-benchmarks/commons-jcs/commons-jcs-core/target/classes:/Users/charleszhuochen/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/Users/charleszhuochen/.m2/repository/commons-dbcp/commons-dbcp/1.4/commons-dbcp-1.4.jar:/Users/charleszhuochen/.m2/repository/commons-pool/commons-pool/1.6/commons-pool-1.6.jar:/Users/charleszhuochen/.m2/repository/hsqldb/hsqldb/1.8.0.10/hsqldb-1.8.0.10.jar:/Users/charleszhuochen/.m2/repository/org/apache/commons/commons-collections4/4.1/commons-collections4-4.1.jar:/Users/charleszhuochen/.m2/repository/junit/junit/4.11/junit-4.11.jar:/Users/charleszhuochen/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/charleszhuochen/.m2/repository/org/hamcrest/hamcrest-library/1.3/hamcrest-library-1.3.jar:/Users/charleszhuochen/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/charleszhuochen/.m2/repository/org/apache/velocity/velocity-tools/2.0/velocity-tools-2.0.jar:/Users/charleszhuochen/.m2/repository/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar:/Users/charleszhuochen/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar:/Users/charleszhuochen/.m2/repository/commons-chain/commons-chain/1.1/commons-chain-1.1.jar:/Users/charleszhuochen/.m2/repository/commons-collections/commons-collections/3.2/commons-collections-3.2.jar:/Users/charleszhuochen/.m2/repository/commons-validator/commons-validator/1.3.1/commons-validator-1.3.1.jar:/Users/charleszhuochen/.m2/repository/dom4j/dom4j/1.1/dom4j-1.1.jar:/Users/charleszhuochen/.m2/repository/oro/oro/2.0.8/oro-2.0.8.jar:/Users/charleszhuochen/.m2/repository/sslext/sslext/1.2-0/sslext-1.2-0.jar:/Users/charleszhuochen/.m2/repository/org/apache/struts/struts-core/1.3.8/struts-core-1.3.8.jar:/Users/charleszhuochen/.m2/repository/antlr/antlr/2.7.2/antlr-2.7.2.jar:/Users/charleszhuochen/.m2/repository/org/apache/struts/struts-taglib/1.3.8/struts-taglib-1.3.8.jar:/Users/charleszhuochen/.m2/repository/org/apache/struts/struts-tiles/1.3.8/struts-tiles-1.3.8.jar:/Users/charleszhuochen/.m2/repository/org/apache/velocity/velocity/1.6.2/velocity-1.6.2.jar:/Users/charleszhuochen/.m2/repository/commons-lang/commons-lang/2.4/commons-lang-2.4.jar:/Users/charleszhuochen/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/Users/charleszhuochen/.m2/repository/commons-codec/commons-codec/1.2/commons-codec-1.2.jar:/Users/charleszhuochen/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar::/Users/charleszhuochen/Programming/UWaterloo/jsr308/opprop-benchmarks/commons-jcs/inferDebugBuild::/Users/charleszhuochen/Programming/UWaterloo/jsr308/ReadChecker/bin:/Users/charleszhuochen/Programming/UWaterloo/jsr308/ReadChecker/lib"

$JAVAC -processor read.ReadChecker -cp $READ_CHECKER/bin:$READ_CHECKER/lib:$target_classpath $java_files
